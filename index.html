<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S. DEWSBERY | VIBE LAB (v107)</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%23333'/></svg>">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,600;1,600&family=JetBrains+Mono:wght@400;500&family=Inter:wght@400;500&display=swap');

        :root {
            --glass-blur: 40px;
            --glass-bg: rgba(255, 255, 255, 0.4);
            --glass-border: rgba(255, 255, 255, 0.6);
            --text-main: #050505;
            --text-sub: #444;
            --font-serif: 'Playfair Display', serif;
            --font-mono: 'JetBrains Mono', monospace;
            --font-sans: 'Inter', sans-serif;
        }

        body {
            margin: 0;
            background: #EAEAEA;
            font-family: var(--font-sans);
            color: var(--text-main);
            overflow-x: hidden;
        }

        .mesh-bg {
            position: fixed;
            inset: 0;
            z-index: -1;
            filter: blur(80px);
            animation: pulse 10s ease-in-out infinite alternate;
            background: radial-gradient(at 0% 0%, rgba(255, 107, 107, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(78, 205, 196, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(150, 100, 255, 0.1) 0px, transparent 50%);
        }

        .bento-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 24px;
            max-width: 1400px;
            margin: 60px auto;
            padding: 0 24px 150px 24px;
        }

        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            border: 1px solid var(--glass-border);
            border-radius: 32px;
            padding: 32px;
            display: flex;
            flex-direction: column;
            transition: all 0.4s ease;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
        }

        /* REPLACED BY SPOTLIGHT ENGINE */

        .glass-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 40px 80px -20px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-family: var(--font-serif);
            /* IMPACT UPGRADE: 5.5rem for massive presence */
            font-size: 5.5rem;
            line-height: 0.9;
            letter-spacing: -0.04em;
            margin: 0 0 24px 0;
        }

        h3 {
            font-size: 1.2rem;
            margin: 0;
            font-weight: 700;
        }

        .hero-sub {
            /* READABILITY UPGRADE: 1.25rem */
            font-size: 1.25rem;
            color: var(--text-sub);
            max-width: 550px;
            line-height: 1.6;
        }

        .mono-tag {
            font-family: var(--font-mono);
            font-size: 0.75rem;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 12px;
            font-weight: 700;
        }

        .hero-card {
            grid-column: span 6;
            grid-row: span 2;
            /* TENSION LAYOUT: Bottom-Left Anchor */
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: flex-start;
            position: relative;
            /* BREATHING ROOM: Massive Top Padding */
            padding-top: 35vh;
        }

        .experiment-card {
            grid-column: span 3;
        }

        .footer-card {
            grid-column: span 12;
            margin-top: 24px;
        }

        /* SPOTLIGHT ENGINE v1: Dual-Layer Masking */
        .visual-stage {
            width: 100%;
            aspect-ratio: 1 / 1;
            border-radius: 16px;
            margin-bottom: 24px;
            background-color: rgba(0, 0, 0, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.6);
            position: relative;
            overflow: hidden;
            /* Base container holds the structure, images are in pseudos */
        }

        /* LAYER 1: GRAYSCALE BACKGROUND (ALWAYS VISIBLE) */
        .visual-stage::before {
            content: "";
            position: absolute;
            inset: 0;
            background-size: cover;
            background-position: center;
            filter: grayscale(100%);
            z-index: 1;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* LAYER 2: COLOR SPOTLIGHT (MASKED) */
        .visual-stage::after {
            content: "";
            position: absolute;
            inset: 0;
            background-size: cover;
            background-position: center;
            filter: grayscale(0%);
            z-index: 2;
            /* THE SPOTLIGHT: 35% Circle at Center */
            clip-path: circle(35% at center);
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* HOVER INTERACTION: EXPAND COLOR */
        .glass-card:hover .visual-stage::after {
            clip-path: circle(120% at center);
        }

        /* INDIVIDUAL ASSETS (Applied to both layers) */
        .stage-social::before,
        .stage-social::after {
            background-image: url('https://images.unsplash.com/photo-1509048191080-d2984bad6ae5?auto=format&fit=crop&w=800&q=80');
        }

        .stage-visit::before,
        .stage-visit::after {
            background-image: url('https://images.unsplash.com/photo-1524661135-423995f22d0b?auto=format&fit=crop&w=800&q=80');
        }

        .stage-dial::before,
        .stage-dial::after {
            background-image: url('https://raw.githubusercontent.com/Dewsbex/Vibe-Station-Alpha/main/compass_dial.png');
        }

        /* SOCRATIC ORB: SPECIAL HANDLING */
        .stage-robot {
            background-color: #1a1a1a;
        }

        .stage-robot::before,
        .stage-robot::after {
            background-image: url('Trim Bot Dark Avenger.png?v=112');
            background-size: contain;
            background-repeat: no-repeat;
        }

        /* FACE OVERLAY: ALWAYS TOP */
        #face-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        /* REFACTORED FOR COLOR POP: GLOBAL GRAYSCALE REMOVED */
        /* #knowledge-card .visual-stage rules removed */

        .article-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .iframe-container {
            overflow: hidden;
            border-radius: 12px;
            background: white;
            height: 400px;
            position: relative;
        }

        iframe {
            width: 100%;
            border: none;
            height: 420px;
            margin-top: -10px;
        }

        .linkedin-card::-webkit-scrollbar {
            display: none;
        }

        .linkedin-card {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .system-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: var(--font-mono);
            font-size: 10px;
            z-index: 100;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #00ff41;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            box-shadow: 0 0 5px #00ff41;
        }

        @media (max-width: 1000px) {
            .bento-grid {
                display: flex;
                flex-direction: column;
            }

            h1 {
                font-size: 3rem;
            }
        }
    </style>
</head>

<body>
    <div class="mesh-bg"></div>
    <div class="bento-grid">
        <div class="glass-card hero-card">
            <span class="mono-tag" style="position: absolute; top: 32px; left: 32px;"><a
                    href="mailto:stevendewsbery@gmail.com"
                    style="text-decoration: none; color: inherit; cursor: pointer;">S. DEWSBERY</a> // <a
                    href="https://github.com/Dewsbex/Vibe-Station-Alpha" target="_blank"
                    style="text-decoration: none; color: inherit; cursor: pointer;">VIBE LAB</a></span>
            <h1>I build things<br>to save my <span style="font-style: italic; color: #444;">sanity.</span></h1>
            <p class="hero-sub" style="max-width: 50ch;">The wall between "I wish this existed" and "I built this today"
                has collapsed. I use AI to kill friction in my family life. Small experiments. Zero fluff. High utility.
            </p>
        </div>
        <div class="glass-card experiment-card">
            <span class="mono-tag">01 / LOGISTICS</span>
            <div class="visual-stage stage-social"></div>
            <div>
                <h3>The Social ETL</h3>
                <p style="margin:4px 0 0 0; font-size: 0.9rem; color: #666;">Parses School Emails to Calendar.</p>
            </div>
        </div>
        <div class="glass-card experiment-card">
            <span class="mono-tag">02 / CURATION</span>
            <div class="visual-stage stage-visit"></div>
            <div>
                <h3>The Trip Curator</h3>
                <p style="margin:4px 0 0 0; font-size: 0.9rem; color: #666;">Personalized Travel Agent.</p>
            </div>
        </div>

        <div class="glass-card experiment-card" id="knowledge-card">
            <span class="mono-tag">03 / EDUCATION</span>
            <div class="visual-stage stage-robot" id="robot-container">
                <canvas id="face-overlay"></canvas>
            </div>
            <!-- RENAMED TO SOCRATIC ORB -->
            <div>
                <h3>The Socratic Orb</h3>
                <p style="margin:4px 0 0 0; font-size: 0.9rem; color: #666;">Voice-First AI Tutor.</p>
            </div>
        </div>

        <div class="glass-card experiment-card">
            <span class="mono-tag">04 / OPTIMIZATION</span>
            <div class="visual-stage stage-dial"></div>
            <div>
                <h3>The Decision Dial</h3>
                <p style="margin:4px 0 0 0; font-size: 0.9rem; color: #666;">Randomized Choice Arbitrator.</p>
            </div>
        </div>
        <div class="glass-card footer-card">
            <span class="mono-tag">LOGS // RECENT UPDATES</span>
            <div class="article-list">
                <div class="iframe-container"><iframe class="linkedin-card"
                        src="https://www.linkedin.com/embed/feed/update/urn:li:ugcPost:7398259560202870784?collapsed=1"></iframe>
                </div>
                <div class="iframe-container"><iframe class="linkedin-card"
                        src="https://www.linkedin.com/embed/feed/update/urn:li:ugcPost:7396180596089126913?collapsed=1"></iframe>
                </div>
                <div class="iframe-container"><iframe class="linkedin-card"
                        src="https://www.linkedin.com/embed/feed/update/urn:li:ugcPost:7411503127176163328?collapsed=1"></iframe>
                </div>
            </div>
        </div>
    </div>
    <div class="system-footer">
        <div><span class="status-dot"></span>SYSTEM NORMAL</div>
        <div>v114.0-SPOTLIGHT-MASK</div>
        <div id="audio-toggle" style="cursor: pointer;">OUTPUT: SILENT</div>
    </div>
    <script>
        window.addEventListener('load', () => {
            const audioBtn = document.getElementById('audio-toggle');
            let audioState = false, audioCtx, oscillator, gainNode;

            audioBtn.addEventListener('click', () => {
                if (!audioState) {
                    if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                    oscillator = audioCtx.createOscillator(); gainNode = audioCtx.createGain();
                    oscillator.frequency.setValueAtTime(60, audioCtx.currentTime);
                    gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime);
                    oscillator.connect(gainNode); gainNode.connect(audioCtx.destination);
                    oscillator.start(); audioBtn.innerText = "AUDIO: ON [HUM]"; audioBtn.style.color = "#00ff41"; audioState = true;
                } else { if (oscillator) oscillator.stop(); audioBtn.innerText = "AUDIO: OFF"; audioBtn.style.color = "#666"; audioState = false; }
            });

            const updateLook = (x, y) => {
                mouseX = (x / window.innerWidth) * 2 - 1;
                mouseY = -(y / window.innerHeight) * 2 + 1;
            };

            document.addEventListener('mousemove', (e) => updateLook(e.clientX, e.clientY));
            document.addEventListener('touchmove', (e) => updateLook(e.touches[0].clientX, e.touches[0].clientY), { passive: true });
            document.addEventListener('touchstart', (e) => updateLook(e.touches[0].clientX, e.touches[0].clientY), { passive: true });

            const knowledgeCard = document.getElementById('knowledge-card');
            let isHovering = false;
            let isOffScreen = false;
            knowledgeCard.addEventListener('mouseenter', () => { isHovering = true; });
            knowledgeCard.addEventListener('mouseleave', () => { isHovering = false; });
            document.addEventListener('mouseout', (e) => { if (!e.relatedTarget) isOffScreen = true; });
            document.addEventListener('mouseover', () => { isOffScreen = false; });

            // --- V105: SCALED TO 0.45 (FITS IN LENS) ---
            const canvas = document.getElementById('face-overlay');
            const container = document.getElementById('robot-container');

            if (canvas && container) {
                const ctx = canvas.getContext('2d');

                const bufferCanvas = document.createElement('canvas');
                const gridRes = 128;
                bufferCanvas.width = gridRes;
                bufferCanvas.height = gridRes;
                const bCtx = bufferCanvas.getContext('2d');

                const resize = () => {
                    const scale = 2;
                    canvas.width = container.clientWidth * scale;
                    canvas.height = container.clientHeight * scale;
                    ctx.scale(scale, scale);
                };
                window.addEventListener('resize', resize);
                resize();

                let smileFactor = 0;
                let targetSmile = 0;
                let eyePosX = 0, eyePosY = 0;
                let eyeVelX = 0, eyeVelY = 0;

                const animate = () => {
                    requestAnimationFrame(animate);

                    if (isOffScreen) targetSmile = -1.0;
                    else if (isHovering) targetSmile = 1.0;
                    else targetSmile = 0.0;

                    smileFactor += (targetSmile - smileFactor) * 0.15;

                    const trackingRange = 8; // Increased range for smaller eyes to roam
                    const targetX = Math.max(-1, Math.min(1, mouseX)) * trackingRange;
                    const targetY = Math.max(-1, Math.min(1, -mouseY)) * trackingRange;

                    eyeVelX += (targetX - eyePosX) * 0.1; eyeVelY += (targetY - eyePosY) * 0.1;
                    eyeVelX *= 0.8; eyeVelY *= 0.8;
                    eyePosX += eyeVelX; eyePosY += eyeVelY;

                    // --- DRAW TO VIRTUAL BUFFER ---
                    bCtx.clearRect(0, 0, gridRes, gridRes);
                    bCtx.save();
                    bCtx.translate(gridRes / 2, gridRes / 2);

                    // SCALE FIX: 0.45 (Fits inside the black glass)
                    bCtx.scale(0.45, 0.45);

                    bCtx.translate(-gridRes / 2, -gridRes / 2);

                    bCtx.fillStyle = '#FFFFFF';
                    bCtx.strokeStyle = '#FFFFFF';
                    bCtx.lineCap = 'round';

                    const cx = gridRes / 2;
                    // Nudged down slightly to hit optical center of lens
                    const cy = gridRes * 0.48;

                    // --- EYES (ROUND PILLS - SMALLER) ---
                    const eyeW = 14; const eyeH = 20; const eyeGap = 28;

                    bCtx.beginPath();
                    bCtx.ellipse(cx - eyeGap + eyePosX, cy + eyePosY, eyeW / 2, eyeH / 2, 0, 0, Math.PI * 2);
                    bCtx.fill();

                    bCtx.beginPath();
                    bCtx.ellipse(cx + eyeGap + eyePosX, cy + eyePosY, eyeW / 2, eyeH / 2, 0, 0, Math.PI * 2);
                    bCtx.fill();

                    // --- BROWS (ARCHED) ---
                    const browY = cy - 20 + eyePosY;
                    const browW = 24;
                    const browAngle = smileFactor * 0.3;

                    bCtx.lineWidth = 5;

                    // Left Brow
                    bCtx.save(); bCtx.translate(cx - eyeGap + eyePosX, browY); bCtx.rotate(-browAngle);
                    bCtx.beginPath();
                    bCtx.moveTo(-browW / 2, 4); bCtx.quadraticCurveTo(0, -6, browW / 2, 4); bCtx.stroke();
                    bCtx.restore();

                    // Right Brow
                    bCtx.save(); bCtx.translate(cx + eyeGap + eyePosX, browY); bCtx.rotate(browAngle);
                    bCtx.beginPath();
                    bCtx.moveTo(-browW / 2, 4); bCtx.quadraticCurveTo(0, -6, browW / 2, 4); bCtx.stroke();
                    bCtx.restore();

                    // --- MOUTH (CRESCENT) ---
                    const mouthY = cy + 28;
                    const mouthW = 32;
                    const smileDepth = smileFactor * 14;
                    const skewY = (smileFactor > 0) ? -6 * smileFactor : 0;

                    if (smileFactor > 0.1) {
                        bCtx.beginPath();
                        bCtx.moveTo(cx - mouthW, mouthY);
                        bCtx.quadraticCurveTo(cx, mouthY + smileDepth, cx + mouthW, mouthY + skewY);
                        bCtx.quadraticCurveTo(cx, mouthY + smileDepth + 10, cx - mouthW, mouthY);
                        bCtx.fill();

                        bCtx.lineWidth = 4;
                        bCtx.beginPath();
                        bCtx.moveTo(cx + mouthW - 2, mouthY + skewY + 2);
                        bCtx.lineTo(cx + mouthW + 4, mouthY + skewY - 4);
                        bCtx.stroke();
                    } else {
                        bCtx.lineWidth = 5;
                        bCtx.beginPath();
                        const controlY = mouthY + (smileFactor * 16);
                        bCtx.moveTo(cx - mouthW, mouthY);
                        bCtx.quadraticCurveTo(cx, controlY, cx + mouthW, mouthY);
                        bCtx.stroke();
                    }
                    bCtx.restore();

                    // --- RENDER ---
                    ctx.clearRect(0, 0, canvas.width / 2, canvas.height / 2);
                    const bufferData = bCtx.getImageData(0, 0, gridRes, gridRes).data;
                    const w = container.clientWidth;
                    const dotSpacing = w / gridRes;
                    const dotRadius = (dotSpacing / 2) * 1.15;

                    for (let y = 0; y < gridRes; y++) {
                        for (let x = 0; x < gridRes; x++) {
                            const i = (y * gridRes + x) * 4;
                            if (bufferData[i + 3] > 100) {
                                const screenX = x * dotSpacing + (dotSpacing / 2);
                                const screenY = y * dotSpacing + (dotSpacing / 2);

                                ctx.beginPath(); ctx.arc(screenX, screenY, dotRadius * 1.2, 0, Math.PI * 2);
                                ctx.fillStyle = '#000000'; ctx.fill();

                                ctx.beginPath(); ctx.arc(screenX, screenY, dotRadius, 0, Math.PI * 2);
                                ctx.fillStyle = '#00ffff';
                                ctx.shadowColor = '#00ffff'; ctx.shadowBlur = 6; ctx.fill();

                                ctx.beginPath(); ctx.shadowBlur = 0;
                                ctx.arc(screenX, screenY, dotRadius * 0.6, 0, Math.PI * 2);
                                ctx.fillStyle = '#ffffff'; ctx.fill();
                            }
                        }
                    }
                };
                animate();
            }

            // --- UPLINK UI SYSTEM (Simplified - Silent Link) ---
            const createUplinkUI = (card, targetUrl) => {
                card.style.cursor = 'pointer';
                card.onclick = () => window.open(targetUrl, '_blank');
                card.setAttribute('title', 'Click to Launch');
            };

            // 1. INJECT UPLINK UI FOR SOCRATIC ORB
            const cardBot = document.getElementById('knowledge-card');
            if (cardBot) createUplinkUI(cardBot, 'https://socratic-orb.onrender.com/');

            // 2. INJECT UPLINK UI FOR SOCIAL ETL
            document.querySelectorAll('.glass-card').forEach(card => {
                if (card.innerText.includes('The Social ETL')) {
                    createUplinkUI(card, 'https://social-etl-scheduler.onrender.com/');
                }
            });
        });
    </script>
    <!-- Pre-warmer for Socratic Orb Render Instance -->
    <iframe src="https://socratic-orb.onrender.com/"
        style="display:none; visibility:hidden; width:0; height:0; border:none;"></iframe>
    <!-- Pre-warmer for Social ETL Render Instance -->
    <iframe src="https://social-etl-scheduler.onrender.com/"
        style="display:none; visibility:hidden; width:0; height:0; border:none;"></iframe>
</body>

</html>